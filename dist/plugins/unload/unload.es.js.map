{"version":3,"file":"unload.es.js","sources":["../../../source/Plugin/Unload/Unload.js"],"sourcesContent":["import videojs from 'video.js';\n\nlet unloaded = false;\n\nfunction middleware(player) {\n  return {\n    callPlay() {\n      return unloaded && videojs.middleware.TERMINATOR;\n    }\n  };\n}\n\nfunction reset() {\n  unloaded = false;\n  this.tech_.show();\n}\n\nfunction unload(options = {}) {\n  unloaded = true;\n\n  this.pause();\n  this.tech_.hide();\n  this.off('loadstart', reset);\n  this.on('loadstart', reset);\n\n  if (options.loading) {\n    this.addClass('vjs-seeking');\n  }\n}\n\nvideojs.use('*', middleware);\nvideojs.registerPlugin('unload', unload);\n"],"names":["unloaded","middleware","player","callPlay","videojs","TERMINATOR","reset","tech_","show","unload","options","pause","hide","off","on","loading","addClass","use","registerPlugin"],"mappings":";;;AAEA,IAAIA,QAAQ,GAAG,KAAf;;AAEA,SAASC,UAAT,CAAoBC,MAApB,EAA4B;SACnB;IACLC,QADK,sBACM;aACFH,QAAQ,IAAII,OAAO,CAACH,UAAR,CAAmBI,UAAtC;;GAFJ;;;AAOF,SAASC,KAAT,GAAiB;EACfN,QAAQ,GAAG,KAAX;OACKO,KAAL,CAAWC,IAAX;;;AAGF,SAASC,MAAT,CAAgBC,OAAhB,EAA8B;MAAdA,OAAc;IAAdA,OAAc,GAAJ,EAAI;;;EAC5BV,QAAQ,GAAG,IAAX;OAEKW,KAAL;OACKJ,KAAL,CAAWK,IAAX;OACKC,GAAL,CAAS,WAAT,EAAsBP,KAAtB;OACKQ,EAAL,CAAQ,WAAR,EAAqBR,KAArB;;MAEII,OAAO,CAACK,OAAZ,EAAqB;SACdC,QAAL,CAAc,aAAd;;;;AAIJZ,OAAO,CAACa,GAAR,CAAY,GAAZ,EAAiBhB,UAAjB;AACAG,OAAO,CAACc,cAAR,CAAuB,QAAvB,EAAiCT,MAAjC"}